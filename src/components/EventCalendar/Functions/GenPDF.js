export const getGeneratePDF = async ({
  jsPDF,
  thSarabunFont,
  event,
  moment,
}) => {
  const doc = new jsPDF({
    orientation: "portrait",
    unit: "mm",
    format: "A4",
  });

  const timeText = event.extendedProps.time
    ? `р╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣И ${event.extendedProps.time} `
    : ""; // р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕бр╕╡ time р╕Ир╕░р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕нр╕░р╣Др╕гр╣Ар╕ер╕в

  // ЁЯСЙ р╕Яр╕нр╕Щр╕Хр╣М THSarabun
  doc.addFileToVFS("THSarabun.ttf", thSarabunFont);
  doc.addFont("THSarabun.ttf", "THSarabun", "normal");
  doc.setFont("THSarabun");
  doc.setFontSize(16);

  // ЁЯСЙ р╣Гр╕кр╣Ир╣Вр╕ер╣Вр╕Бр╣Йр╕Ър╕гр╕┤р╕йр╕▒р╕Ч (р╕гр╕░р╕Ър╕╕ base64 р╕лр╕гр╕╖р╕н path)
  const logo = "001.png"; // ЁЯСИ р╣Вр╕ер╣Вр╕Бр╣Йр╕Ър╕гр╕┤р╕йр╕▒р╕Ч
  doc.addImage(logo, "PNG", 15, 10, 30, 30); // x, y, width, height

  // ЁЯСЙ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕▒р╕зр╕Ир╕Фр╕лр╕бр╕▓р╕в
  doc.setFontSize(20);
  doc.text("р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕Фр╕╣ р╕нр╕нр╕е р╕нр╕▓р╕гр╣Мр╕Др╕┤р╣Ар╕Чр╕Д р╣Бр╕нр╕Щр╕Фр╣М р╣Ар╕нр╣Зр╕Щр╕Ир╕┤р╣Ар╕Щр╕╡р╕вр╕гр╕┤р╣Ир╕З р╕Ир╕│р╕Бр╕▒р╕Ф", 105, 20, {
    align: "center",
  });

  doc.setFontSize(14);
  doc.text("DO ALL ARCHITECT AND ENGINEERING CO.,LTD.", 105, 28, {
    align: "center",
  });

  doc.setFontSize(12);
  doc.text(
    "68/155 р╕лр╕бр╕╣р╣И 3 р╕Цр╕Щр╕Щр╕Кр╕▒р╕вр╕Юр╕др╕Бр╕йр╣М р╕Хр╕│р╕Ър╕ер╕Др╕ер╕нр╕Зр╕Юр╕гр╕░р╕нр╕╕р╕Фр╕б р╕нр╕│р╣Ар╕ар╕нр╕Ыр╕▓р╕Бр╣Ар╕Бр╕гр╣Зр╕Ф р╕Ир╕▒р╕Зр╕лр╕зр╕▒р╕Фр╕Щр╕Щр╕Чр╕Ър╕╕р╕гр╕╡ 11120",
    105,
    34,
    {
      align: "center",
    }
  );

  doc.text("р╕зр╕▒р╕Щр╕Чр╕╡р╣И: " + moment().format("DD-MM-YYYY"), 170, 44, {
    align: "right",
  });

  doc.line(15, 48, 195, 48); // р╣Ар╕кр╣Йр╕Щр╕Др╕▒р╣Ир╕Щ

  // ЁЯСЙ р╕лр╕▒р╕зр╣Ар╕гр╕╖р╣Ир╕нр╕З
  doc.setFontSize(16);
  doc.text(
    `р╣Бр╕Ир╣Йр╕Зр╣Бр╕Ьр╕Щр╕Зр╕▓р╕Щр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г ${event.title} р╕гр╕░р╕Ър╕Ъ ${event.extendedProps.system} ${timeText}`,
    105,
    58,
    {
      align: "center",
    }
  );

  // ЁЯСЙ р╕Вр╣Йр╕нр╕бр╕╣р╕е Event
  const end_o = moment(event.end).format("DD-MM-YYYY");
  const start = moment(event.start).format("DD-MM-YYYY");
  const end = moment(event.end).format("DD-MM-YYYY");

  const lines = [
    "",
    `р╣Ар╕гр╕╡р╕вр╕Щ  р╕Ьр╕╣р╣Йр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕Др╕гр╕Зр╕Бр╕▓р╕г ${event.extendedProps.site}`,
    "",
    `        р╕Хр╕▓р╕бр╕Чр╕╡р╣Ир╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕Фр╕╣ р╕нр╕нр╕е р╕нр╕▓р╕Др╕┤р╣Ар╕Чр╕Д р╣Бр╕нр╕Щр╕Фр╣М р╣Ар╕нр╣Зр╕Щр╕Ир╕┤р╣Ар╕Щр╕╡р╕вр╕гр╕┤р╣Ир╕З р╕Ир╕│р╕Бр╕▒р╕Ф р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Др╕зр╣Йр╕зр╕▓р╕Зр╣Гр╕Ир╕Ир╕▓р╕Б ${event.extendedProps.company} `,
    `р╣Гр╕лр╣Йр╣Ар╕Вр╣Йр╕▓р╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г ${event.title} р╕гр╕░р╕Ър╕Ъ ${event.extendedProps.system} ${timeText} р╕У р╣Вр╕Др╕гр╕Зр╕Бр╕▓р╕г ${event.extendedProps.site}`,
    "",

    `        р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕Фр╕╣ р╕нр╕нр╕е р╕нр╕▓р╕Др╕┤р╣Ар╕Чр╕Д р╣Бр╕нр╕Щр╕Фр╣М р╣Ар╕нр╣Зр╕Щр╕Ир╕┤р╣Ар╕Щр╕╡р╕вр╕гр╕┤р╣Ир╕З р╕Ир╕│р╕Бр╕▒р╕Ф р╕Вр╕нр╣Бр╕Ир╣Йр╕Зр╣Гр╕лр╣Йр╕Чр╣Ир╕▓р╕Щр╕Чр╕гр╕▓р╕Ър╕Цр╕╢р╕Зр╕Бр╕│р╕лр╕Щр╕Фр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓ ${event.title} р╕гр╕░р╕Ър╕Ъ ${event.extendedProps.system}`,
    `р╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣И ${event.extendedProps.time} р╕Лр╕╢р╣Ир╕Зр╕Чр╕▓р╕Зр╕Ър╕гр╕┤р╕йр╕▒р╕Чр╕п р╕бр╕╡р╕Бр╕│р╕лр╕Щр╕Фр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕гр╣Гр╕Щр╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓р╕Фр╕▒р╕Зр╕Щр╕╡р╣Й`,

    "",

    `        Description`,

    "",

    "        р╕Фр╕▒р╕Зр╕Щр╕▒р╣Йр╕Щ р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕п р╣Гр╕Др╕гр╣Ир╕Вр╕нр╕Др╕зр╕▓р╕бр╕гр╣Ир╕зр╕бр╕бр╕╖р╕н р╣Бр╕Ир╣Йр╕Зр╕Ьр╕╣р╣Йр╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕Зр╕Чр╕╕р╕Бр╕Чр╣Ир╕▓р╕Щр╣Ар╕Юр╕╖р╣Ир╕нр╕Чр╕гр╕▓р╕Ър╕Бр╕│р╕лр╕Щр╕Фр╕Бр╕▓р╕гр╕Фр╕▒р╕Зр╕Бр╕ер╣Ир╕▓р╕з р╕Чр╕▒р╣Йр╕Зр╕Щр╕╡р╣Йр╕Ър╕гр╕┤р╕йр╕▒р╕Чр╕Ир╕░р╣Ар╕Вр╣Йр╕▓р╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕гр╣Вр╕Фр╕вр╣Др╕бр╣Ир╕кр╣Ир╕Зр╕Ьр╕ер╕Бр╕гр╕░р╕Чр╕Ъ",
    "р╕Хр╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╕бр╕╡р╕бр╕▓р╕Хр╕гр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕Хр╕▓р╕бр╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ р╕лр╕▓р╕Бр╕Чр╣Ир╕▓р╕Щр╣Др╕бр╣Ир╕кр╕░р╕Фр╕зр╕Бр╣Гр╕Щр╕Бр╕▓р╕гр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕гр╕Хр╕▓р╕бр╕зр╕▒р╕Щр╣Ар╕зр╕ер╕▓р╕Фр╕▒р╕Зр╕Бр╕ер╣Ир╕▓р╕зр╕Бр╕гр╕╕р╕Ур╕▓р╣Бр╕Ир╣Йр╕Зр╕Бр╕ер╕▒р╕Ър╕Чр╕╡р╣И",
    "р╕Ър╕гр╕┤р╕йр╕▒р╕Ч р╕Фр╕╣ р╕нр╕нр╕е р╕нр╕▓р╕Др╕┤р╣Ар╕Чр╕Д р╣Бр╕нр╕Щр╕Фр╣М р╣Ар╕нр╣Зр╕Щр╕Ир╕┤р╣Ар╕Щр╕╡р╕вр╕гр╕┤р╣Ир╕З р╕Ир╕│р╕Бр╕▒р╕Ф р╕Фр╣Йр╕зр╕в р╕Ир╕▒р╕Бр╕Вр╕нр╕Ър╕Юр╕гр╕░р╕Др╕╕р╕Ур╕вр╕┤р╣Ир╕З ",
  ];

  doc.setFontSize(14);
  let y = 68;
  lines.forEach((line) => {
    doc.text(line, 20, y);
    y += 8;
  });

  // ЁЯСЙ р╕ер╕▓р╕вр╣Ар╕Лр╣Зр╕Щ
  const signature = "001.png"; // ЁЯСИ р╕ер╕▓р╕вр╣Ар╕Лр╣Зр╕Щ
  doc.addImage(signature, "PNG", 140, y + 10, 40, 20); // р╕Ыр╕гр╕▒р╕Ър╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б

  doc.text("р╕Вр╕нр╣Бр╕кр╕Фр╕Зр╕Др╕зр╕▓р╕бр╕Щр╕▒р╕Ър╕Цр╕╖р╕н", 150, y + 35);
  // doc.text("р╕зр╕┤р╕ир╕зр╕Бр╕гр╕Др╕зр╕Ър╕Др╕╕р╕бр╕гр╕░р╕Ър╕Ъ", 140, y + 45);
  // doc.text("064-111-0988", 140, y + 52);

  // ЁЯСЙ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б PDF
  doc.save(`WorkPermit_${event.title}.pdf`);
};

(self.webpackChunkda_app=self.webpackChunkda_app||[]).push([[601],{1120:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});const n=r(8372).c.create({baseURL:"http://localhost:5000/api",headers:{Accept:"application/json","X-API-Key":"your_api_key","X-Secret":"API_secret_key"}})},9452:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(2635),a=r(9120),o=r(692),s=r(2496);const c={indeterminate:e=>e},i=(0,s.jsx)(a.c,{}),l=e=>{let{title:t,columns:r,data:a,defaultSortFieldId:l,onSort:d,progressPending:u,progressComponent:p,fixedHeader:f,fixedHeaderScrollHeight:h,noHeader:m,pagination:g,paginationPerPage:y,paginationRowsPerPageOptions:x,paginationServer:b,expandableRows:w,expandableRowsComponent:v,expandOnRowClicked:j,expandOnRowDoubleClicked:C,expandableRowExpanded:S,expandableRowsHideExpander:R,onRowClicked:k,selectableRows:P,selectableRowsHighlight:O,selectableRowsComponent:D,onSelectedRowsChange:E,clearSelectedRows:_,striped:A,responsive:U,actions:F,subHeaderComponent:N,contextActions:M,persistTableHead:H,defaultSortAsc:I,highlightOnHover:L,dense:T}=e;const Y={header:{style:{minHeight:"56px"}},headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:n.Ep.default.divider.default}}};return(0,s.jsx)(n.cp,{className:"dataTables_wrapper",title:t,columns:r,data:a,sortIcon:i,defaultSortFieldId:l,defaultSortAsc:I,progressPending:u,progressComponent:p,fixedHeaderScrollHeight:h,pagination:!0,paginationPerPage:y,paginationRowsPerPageOptions:[5,10,15,20],paginationServer:b,expandableRows:!0,expandableRowsComponent:v,expandOnRowClicked:!0,expandOnRowDoubleClicked:C,expandableRowExpanded:S,expandableRowsHideExpander:!0,onRowClicked:k,selectableRows:!0,selectableRowsHighlight:!0,selectableRowsComponent:o.c,selectableRowsComponentProps:c,onSelectedRowsChange:E,clearSelectedRows:_,striped:!0,responsive:!0,customStyles:Y,contextActions:M,subHeader:!0,subHeaderComponent:N,persistTableHead:H,actions:F,highlightOnHover:!0,dense:T})}},8668:(e,t,r)=>{"use strict";r.d(t,{c:()=>c});var n=r(5548),a=r(1784),o=r(7344),s=r(2496);const c=e=>{let{handleDelete:t,handleDownload:r}=e;return[(0,s.jsx)(n.c,{"aria-label":"icon download",onClick:r,children:(0,s.jsx)(o.c,{})},"icon-download"),(0,s.jsx)(n.c,{"aria-label":"icon delete",color:"warning",onClick:t,children:(0,s.jsx)(a.c,{})},"icon-delete")]}},2664:(e,t,r)=>{"use strict";r.d(t,{a:()=>o});var n=r(9012),a=r.n(n);const o=()=>new Promise(((e,t)=>{try{a().fire({title:"Are you sure?",text:"You will be delete",icon:"error",showCancelButton:!0,confirmButtonColor:"red",confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((t=>{t.isConfirmed?e({isConfirmed:!0}):e({isConfirmed:!1})}))}catch(r){console.log(r),t(r)}}))},5800:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(1120);const a={async getUserData(){const e=localStorage.getItem("token");if(e)try{n.c.defaults.headers.common.Authorization="Bearer ".concat(e);return(await n.c.get("/auth/user")).data}catch(t){throw console.error("Error fetching user data:",t),t}},async UpdateUser(e,t){const r=localStorage.getItem("token");try{if(r){const r=await n.c.put("/auth/user/".concat(e),t);return console.log("Update User data",r.data),r.data.user}}catch(a){throw console.error("Error updating user data:",a),a}}}},3601:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(9060),a=r(1120),o=r(5800);const s={async getUserProducts(){try{if(await o.c.getUserData()){return(await a.c.get("/product")).data}}catch(e){throw console.error("Error fetching user products:",e),e}},async getUserDeleteProducts(){try{if(await o.c.getUserData()){return(await a.c.get("/product")).data}}catch(e){throw console.error("Error fetching user products:",e),e}},async AddProduct(e){try{if(await o.c.getUserData()){const t=await a.c.post("/product",e);return console.log("Add Product data",t.data),t.data.userProducts}}catch(t){throw console.error("Error fetching user products:",t),t}},async ReadProduct(e){try{if(await o.c.getUserData()){return(await a.c.get("/product/".concat(e))).data.product}}catch(t){throw console.error("Error fetching user products:",t),t}},async UpdateProduct(e,t){try{if(await o.c.getUserData()){const r=await a.c.put("/product/".concat(e),t);return console.log("Update Product data",r.data),r.data}}catch(r){throw console.error("Error fetching user products:",r),r}},async DeleteProduct(e){try{if(await o.c.getUserData()){const t=await a.c.delete("/product/".concat(e));console.log("Delete Product Success",t.data)}}catch(t){throw console.error("Error fetching user products:",t),t}}};var c=r(9012),i=r.n(c),l=r(5548),d=r(9656),u=r(8420),p=r(684),f=r(2664),h=r(9452),m=r(8668),g=r(3380),y=r.n(g),x=r(9308),b=r(7232),w=r(232),v=r(5720),j=r(2152),C=r(2556),S=r(1784),R=r(2496);const k=e=>{let{row:t,isSmallScreen:r}=e;return(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{style:{fontWeight:"bold"},children:t.name}),r&&(0,R.jsx)("span",{style:{marginTop:"20px"},children:y()(t.createdAt).format("DD/MM/YYYY HH:mm:ss")})]},"cell-product")},P=(0,C.cp)((e=>(0,R.jsx)(b.c,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)}}}}})),O=e=>{let{setSelectedRow:t,setEditedData:r,setModalOpenEdit:a,handleDeleteRow:o,setSelectedFile:s}=e;const[c,i]=(0,n.useState)(null),d=Boolean(c),[u,p]=(0,n.useState)(null),f=()=>{p(null),i(null),s(null)},[h,m]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=()=>{m(window.innerWidth<=768)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[]);return[{name:"Product Name",cell:e=>(0,R.jsx)(k,{row:e,isSmallScreen:h}),sortable:!0},{name:"Updated",selector:e=>y()(e.updatedAt).format("DD/MM/YYYY HH:mm:ss"),sortable:!0},{cell:e=>(0,R.jsxs)("div",{children:[(0,R.jsx)(l.c,{id:"demo-customized-button","aria-controls":d?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,variant:"contained",onClick:n=>((e,n)=>{p(n),i(e.currentTarget),t(n),r(n)})(n,e),children:(0,R.jsx)(x.c,{})}),(0,R.jsxs)(P,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:c,open:d&&u===e,onClose:f,children:[(0,R.jsxs)(w.c,{onClick:()=>{a(!0),f()},children:[(0,R.jsx)(v.c,{}),"Edit"]}),(0,R.jsxs)(w.c,{onClick:()=>{o(e._id),f()},children:[(0,R.jsx)(S.c,{}),"Delete"]}),(0,R.jsxs)(w.c,{onClick:f,disableRipple:!0,children:[(0,R.jsx)(j.c,{}),"More"]})]})]}),width:"80px"}]};var D=r(1056),E=r(2512);const _=e=>{let{show:t,handleClose:r,handleSubmit:n,handleChange:o,handleFileChange:s,fileInputRef:c,selectedFile:i,setModalOpenInsert:l,setSelectedFile:d,form:u}=e;return(0,R.jsx)(E.aA,{open:t,onClose:()=>{d(null),l(!1)},tabIndex:"-1",children:(0,R.jsx)(E.sB,{scrollable:!0,children:(0,R.jsxs)(E.AF,{children:[(0,R.jsxs)(E.sZ,{children:[(0,R.jsx)(E.eq,{children:"Insert Product"}),(0,R.jsx)(E.kD,{className:"btn-close",color:"none",onClick:r})]}),(0,R.jsxs)(E.gB,{children:[(0,R.jsx)("label",{children:"Name:"}),(0,R.jsx)("input",{type:"text",name:"name",className:"form-control",onChange:o}),(0,R.jsx)("label",{children:"Price:"}),(0,R.jsx)("input",{type:"number",name:"price",className:"form-control",onChange:o}),(0,R.jsx)("label",{children:"Description:"}),(0,R.jsx)("textarea",{type:"text",name:"description",className:"form-control",as:"textarea","aria-label":"With textarea",rows:"4",cols:"50",onChange:o}),(0,R.jsx)("label",{children:"Image:"}),(0,R.jsx)("input",{type:"file",className:"form-control",name:"image",accept:"image/*",multiple:!0,ref:c,onChange:s}),(0,R.jsx)("img",{className:"mt-2 img-preview img-thumbnail img-fluid",src:i?URL.createObjectURL(i):"".concat(a.c.defaults.baseURL,"/").concat(u.imageUrl),alt:""})]}),(0,R.jsxs)(E.oH,{children:[(0,R.jsx)(D.c,{variant:"secondary",onClick:r,children:"Close"}),(0,R.jsx)(D.c,{onClick:n,children:"Save changes"})]})]})})})},A=e=>{let{show:t,handleClose:r,handleSubmit:n,handleEditFileChange:o,editedData:s,selectedFile:c,setEditedData:i,setModalOpenEdit:l}=e;return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(E.aA,{open:t,onClose:()=>l(!1),tabIndex:"-1",children:(0,R.jsx)(E.sB,{scrollable:!0,children:(0,R.jsxs)(E.AF,{children:[(0,R.jsxs)(E.sZ,{children:[(0,R.jsx)(E.eq,{children:"Edit Product"}),(0,R.jsx)(E.kD,{className:"btn-close",color:"none",onClick:r})]}),(0,R.jsxs)(E.gB,{children:[(0,R.jsx)("label",{children:"Name:"}),(0,R.jsx)("input",{type:"text",className:"form-control",defaultValue:s.name,onChange:e=>i({...s,name:e.target.value})}),(0,R.jsx)("label",{children:"Price:"}),(0,R.jsx)("input",{type:"number",className:"form-control",defaultValue:s.price,onChange:e=>i({...s,price:e.target.value})}),(0,R.jsx)("label",{children:"Description:"}),(0,R.jsx)("textarea",{type:"text",className:"form-control",as:"textarea","aria-label":"With textarea",rows:"4",cols:"50",defaultValue:s.description,onChange:e=>i({...s,description:e.target.value})}),(0,R.jsx)("label",{children:"Image:"}),(0,R.jsx)("input",{type:"file",className:"form-control",onChange:o}),(0,R.jsx)("img",{className:"mt-2 img-preview img-thumbnail img-fluid",src:c?URL.createObjectURL(c):"".concat(a.c.defaults.baseURL,"/").concat(s.imageUrl),alt:""})]}),(0,R.jsxs)(E.oH,{children:[(0,R.jsx)(D.c,{variant:"secondary",onClick:r,children:"Close"}),(0,R.jsx)(D.c,{onClick:n,children:"Save changes"})]})]})})})})},U=e=>{let{data:t}=e;return(0,R.jsx)("div",{className:"card mb-3",children:(0,R.jsxs)("div",{className:"row g-0",children:[(0,R.jsx)("div",{className:"col-md-4",children:(0,R.jsx)("img",{src:"".concat(a.c.defaults.baseURL,"/").concat(t.imageUrl),className:"img-fluid rounded-start img-thumbnail img-preview",alt:"..."})}),(0,R.jsx)("div",{className:"col-md-8",children:(0,R.jsxs)("div",{className:"card-body text",children:[(0,R.jsx)("h5",{className:"card-title",children:t.name}),(0,R.jsxs)("p",{className:"card-text",children:["\u0e23\u0e32\u0e04\u0e32: ",t.price," - \u0e3f"]}),(0,R.jsx)("strong",{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14: "}),(0,R.jsxs)("p",{className:"card-text mt-1 ",children:[t.description,", This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."]}),(0,R.jsx)("p",{className:"card-text",children:(0,R.jsxs)("small",{className:"text-body-secondary",children:["\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e14\u0e22: ",t.user.username,",(",t.user.fname," ",t.user.lname,") ( ",t.user.role,", ",t.user.rank," )"]})}),(0,R.jsx)("p",{className:"card-text",children:(0,R.jsxs)("small",{className:"text-body-secondary",children:["Last updated",y()(t.updatedAt).format("- DD/MM/YYYY  HH:mm:ss ")]})})]})})]})})},F=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[c,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),[w,v]=(0,n.useState)(!1),[j,C]=(0,n.useState)([]),[S,k]=(0,n.useState)(""),[P,D]=(0,n.useState)(""),[E,F]=(0,n.useState)([]),[N,M]=(0,n.useState)({name:"Add product name",description:"Description of the product",price:0,image:null}),[H,I]=(0,n.useState)([]),[L,T]=(0,n.useState)({}),[Y,B]=(0,n.useState)(null),[z,V]=(0,n.useState)(!1),[W,q]=(0,n.useState)(!1),[X,Z]=(0,n.useState)({});(0,n.useEffect)((()=>{const e=setTimeout((()=>{I(E)}),1e3);return()=>clearTimeout(e)}),[]),(0,n.useEffect)((()=>{K(),J()}),[]),(0,n.useEffect)((()=>{const e=j.filter((e=>{const t=e.name.toLowerCase(),r=y()(e.updatedAt).format("DD/MM/YYYY HH:mm");return t.includes(S.toLowerCase())||r.includes(S.toLowerCase())}));F(e)}),[S,j]),(0,n.useEffect)((()=>{const e=j.filter((e=>y()(e.updatedAt).format("YYYY-MM-DD HH:mm").includes(P)));F(e)}),[P,j]);const J=async()=>{const e=await o.c.getUserData();t(e.user)},K=async()=>{v(!0);try{const e=(await s.getUserProducts()).userProducts;C(e),F(e),a([]),g(!1),T({}),k(""),D(""),I([]),v(!1),console.log(e)}catch(e){console.error("Error fetching products:",e),v(!1)}},$=(0,n.useRef)(null),G=E.slice().sort(((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(h.c,{title:"".concat(e.username," - Product"),columns:O({setSelectedRow:B,setEditedData:Z,setModalOpenEdit:q,handleDeleteRow:async e=>{try{await(0,f.a)().then((async t=>{t.isConfirmed&&(await s.DeleteProduct(e),K(),a([]),g(!0),T({}),i().fire("Deleted Success!","","success"))}))}catch(t){console.error("Error deleting product:",t)}},setSelectedFile:b}),data:G,fixedHeaderScrollHeight:"625px",paginationPerPage:5,expandableRowsComponent:U,expandableRowExpanded:e=>L[e._id],onRowClicked:e=>{const t={...L};t[e._id]=!L[e._id],T(t)},onSelectedRowsChange:e=>{a(e.selectedRows)},clearSelectedRows:c,subHeaderComponent:(0,R.jsx)("div",{className:"container",children:(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-md-12",children:(0,R.jsxs)("div",{className:"row g-0",children:[(0,R.jsx)("div",{className:"col-md m-2",children:(0,R.jsx)("input",{className:"form-control",type:"search",placeholder:"Search here",value:S,onChange:e=>k(e.target.value)})}),(0,R.jsx)("div",{className:"col-md m-2",children:(0,R.jsx)("input",{style:{cursor:"pointer"},className:"form-control",type:"date",value:P,onChange:e=>D(e.target.value)})})]})})})}),contextActions:(0,R.jsx)(m.c,{handleDelete:async()=>{try{await(0,f.a)().then((async e=>{if(e.isConfirmed){for(const e of r){const r=e._id;console.log("ProductID",r);try{await s.DeleteProduct(r)}catch(t){console.error("Error deleting product: ",t)}}K(),a([]),g(!0),T({}),i().fire("Deleted Success!","","success")}}))}catch(e){console.error("Error deleting product:",e)}}}),actions:[(0,R.jsx)(p.CSVLink,{data:j,filename:"products.csv",children:(0,R.jsx)(l.c,{"aria-label":"export csv","data-toggle":"tooltip","data-placement":"top",title:"Export CSV",children:(0,R.jsx)(d.c,{})})},"export-csv"),(0,R.jsx)(l.c,{onClick:()=>{b(null),V(!0)},"aria-label":"Insert products","data-toggle":"tooltip","data-placement":"top",title:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e2b\u0e21\u0e48",children:(0,R.jsx)(u.c,{})},"insert-product")]}),(0,R.jsx)(_,{show:z,handleClose:()=>{V(!1),b(null)},handleSubmit:async e=>{e.preventDefault();const t=new FormData;for(const[n,a]of Object.entries(N))t.append(n,a);try{await s.AddProduct(t).then((()=>{M({name:"Add product name",description:"Description of the product",price:0,image:null}),V(!1),b(null),T({}),K(),i().fire({title:"Inserted Success!",icon:"success",timer:1e3,showConfirmButton:!1})}))}catch(r){console.error("Error adding product:",r)}},handleChange:e=>{M({...N,[e.target.name]:e.target.value})},handleFileChange:e=>{const t=e.target.files[0];b(t),M({...N,[e.target.name]:e.target.files[0]})},fileInputRef:$,selectedFile:x,setModalOpenInsert:V,form:N,setSelectedFile:b}),(0,R.jsx)(A,{show:W,handleClose:()=>{q(!1),b(null)},handleSubmit:async e=>{e.preventDefault();try{const e=Y._id,t=new FormData;for(const[a,o]of Object.entries(X))t.append(a,o);x&&t.append("image",x);const r=await s.UpdateProduct(e,t),n=j.map((e=>e._id===Y._id?{...e,...r.data}:e));C(n),q(!1),b(null),a([]),g(!0),K(),i().fire("Updeated Success!","","success")}catch(t){console.error("Error updating data:",t)}},handleEditFileChange:e=>{const t=e.target.files[0];b(t)},editedData:X,selectedFile:x,setEditedData:Z,setSelectedFile:b,setModalOpenEdit:q})]})},N=()=>(0,R.jsx)("div",{className:"container-sm mt-5 ",children:(0,R.jsx)(F,{})})},9656:(e,t,r)=>{"use strict";var n=r(2411);t.c=void 0;var a=n(r(864)),o=r(2496);t.c=(0,a.default)((0,o.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload")},5720:(e,t,r)=>{"use strict";var n=r(2411);t.c=void 0;var a=n(r(864)),o=r(2496);t.c=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},684:(e,t,r)=>{e.exports=r(2220)},6512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(9060),s=(n=o)&&n.__esModule?n:{default:n},c=r(7036),i=r(7668);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return c.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,r=e.headers,n=e.separator,a=e.enclosingCharacter,o=e.uFEFF,s=e.target,c=e.specs,i=e.replace;this.state.page=window.open(this.buildURI(t,o,r,n,a),s,c,i)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(s.default.Component);l.defaultProps=Object.assign(i.defaultProps,{target:"_blank"}),l.propTypes=i.propTypes,t.default=l},1828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(9060),c=(n=s)&&n.__esModule?n:{default:n},i=r(7036),l=r(7668);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.buildURI=r.buildURI.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return i.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var r=this.props,n=r.data,a=r.headers,o=r.separator,s=r.filename,c=r.enclosingCharacter,l=r.uFEFF,d=t&&"function"===typeof n?n():n,u=new Blob([l?"\ufeff":"",(0,i.toCSV)(d,a,o,c)]);return window.navigator.msSaveBlob(u,s),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(r){!1!==r?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.data,n=t.headers,o=t.separator,s=t.filename,i=t.uFEFF,l=t.children,d=(t.onClick,t.asyncOnClick,t.enclosingCharacter),u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),p="undefined"===typeof window?"":this.buildURI(r,i,n,o,d);return c.default.createElement("a",a({download:s},u,{ref:function(t){return e.link=t},target:"_self",href:p,onClick:this.handleClick()}),l)}}]),t}(c.default.Component);d.defaultProps=l.defaultProps,d.propTypes=l.propTypes,t.default=d},7036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},o=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&!(e instanceof Array)}))},s=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},c=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(n(e),n(t)))}),[]))},i=t.jsons2arrays=function(e,t){var r=t=t||c(e),a=t;o(t)&&(r=t.map((function(e){return e.label})),a=t.map((function(e){return e.key})));var s=e.map((function(e){return a.map((function(t){return l(t,e)}))}));return[r].concat(n(s))},l=t.getHeaderValue=function(e,t){var r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,r,n){var a=e[t];if(void 0!==a&&null!==a)return a;n.splice(1)}),t);return void 0===r?e in t?t[e]:"":r},d=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},u=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return d(e)})).map((function(e){return""+r+e+r})).join(t)})).join("\n")},p=t.arrays2csv=function(e,t,r,a){return u(t?[t].concat(n(e)):e,r,a)},f=t.jsons2csv=function(e,t,r,n){return u(i(e,t),r,n)},h=t.string2csv=function(e,t,r,n){return t?t.join(r)+"\n"+e:e.replace(/"/g,'""')},m=t.toCSV=function(e,t,r,n){if(o(e))return f(e,t,r,n);if(s(e))return p(e,t,r,n);if("string"===typeof e)return h(e,t,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,r,n,o){var s=m(e,r,n,o),c=a()?"application/csv":"text/csv",i=new Blob([t?"\ufeff":"",s],{type:c}),l="data:"+c+";charset=utf-8,"+(t?"\ufeff":"")+s,d=window.URL||window.webkitURL;return"undefined"===typeof d.createObjectURL?l:d.createObjectURL(i)}},2220:(e,t,r)=>{"use strict";t.CSVLink=void 0;var n=o(r(6512)),a=o(r(1828));function o(e){return e&&e.__esModule?e:{default:e}}n.default,t.CSVLink=a.default},7668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var n,a=r(9060),o=((n=a)&&n.__esModule,r(9840));t.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]}}]);
//# sourceMappingURL=601.ce66683c.chunk.js.map
"use strict";(self.webpackChunkda_app=self.webpackChunkda_app||[]).push([[376],{1120:(e,t,a)=>{a.d(t,{c:()=>s});const s=a(8372).c.create({baseURL:"http://localhost:5000/api",headers:{Accept:"application/json","X-API-Key":"your_api_key","X-Secret":"API_secret_key"}})},6160:(e,t,a)=>{a.d(t,{MZ:()=>o,a8:()=>r,aC:()=>c});var s=a(6584);const c=e=>{if(e){switch(e.split(".").pop().toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return s.SQC;case"pdf":return s.I2R;case"doc":case"docx":return s.QdT;case"csv":case"xls":case"xlsx":return s.QBy;case"ppt":case"pptx":return s.umR;case"rar":return s.U5Y;default:return s.kx2}}},r=e=>{if(e){switch(e.split(".").pop().toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":case"doc":case"docx":return"blue";case"pdf":return"red";case"csv":case"xls":case"xlsx":return"green";case"ppt":case"pptx":return"orange";case"rar":return"purple";default:return"black"}}},o=e=>{if(e){const t=1024,a=1024*t,s=1024*a;return e>=s?"".concat((e/s).toFixed(2)," GB"):e>=a?"".concat((e/a).toFixed(2)," MB"):e>=t?"".concat((e/t).toFixed(2)," KB"):"".concat(e," bytes")}return"Unknown"}},196:(e,t,a)=>{a.d(t,{c:()=>r});var s=a(1120),c=a(5800);const r={async getUserFiles(){try{if(await c.c.getUserData()){return(await s.c.get("/files")).data}}catch(e){throw console.error("Error fetching user files:",e),e}},async uploadFiles(e){try{if(await c.c.getUserData()){const t=new FormData;e.forEach((e=>{t.append("files",e)}));return(await s.c.post("/files",t,{headers:{"Content-Type":"multipart/form-data"}})).data}}catch(t){throw console.error("Error uploading files:",t),t}},async deleteFile(e){try{if(await c.c.getUserData()){const t=await s.c.delete("/files/".concat(e));console.log("Delete File Success",t.data)}}catch(t){throw console.error("Error deleting file:",t),t}}}},5800:(e,t,a)=>{a.d(t,{c:()=>c});var s=a(1120);const c={async getUserData(){const e=localStorage.getItem("token");if(e)try{s.c.defaults.headers.common.Authorization="Bearer ".concat(e);return(await s.c.get("/auth/user")).data}catch(t){throw console.error("Error fetching user data:",t),t}},async UpdateUser(e,t){const a=localStorage.getItem("token");try{if(a){const a=await s.c.put("/auth/user/".concat(e),t);return console.log("Update User data",a.data),a.data.user}}catch(c){throw console.error("Error updating user data:",c),c}}}},8376:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(9060),c=a(6120),r=a(9500),o=a(6584),n=a(196),l=a(9012),i=a.n(l),d=a(7360),p=a(6160),u=a(2496);const h=()=>{const[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(0),[h,f]=(0,s.useState)(!1);(0,s.useEffect)((()=>{e.length>100&&(i().fire({icon:"warning",title:"\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19",text:"\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e44\u0e1f\u0e25\u0e4c\u0e44\u0e14\u0e49\u0e40\u0e01\u0e34\u0e19 100 \u0e44\u0e1f\u0e25\u0e4c / \u0e04\u0e23\u0e31\u0e49\u0e07"}),t(e.slice(0,100)))}),[e]);const{getRootProps:g,getInputProps:m,isDragActive:x}=(0,c.IX)({onDrop:a=>{f(!0);const s=a.filter((e=>!e.type.startsWith("image")));if(s.filter((e=>e.size>262144e3)).length>0)i().fire({icon:"warning",title:"\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19",text:"\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e44\u0e1f\u0e25\u0e4c\u0e17\u0e35\u0e48\u0e21\u0e35\u0e02\u0e19\u0e32\u0e14\u0e40\u0e01\u0e34\u0e19 ".concat(250,"MB \u0e44\u0e14\u0e49 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e44\u0e1f\u0e25\u0e4c\u0e41\u0e25\u0e30\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07")});else{let a=[];const c=e.map((e=>e.name));s.forEach((e=>{let t=e.name;const s=e.name.split("."),r=s.slice(0,-1).join("."),o=s.pop();let n=1;for(;c.includes(t);)t="".concat(r," (").concat(n,").").concat(o),n++;a.push(new File([e],t,{type:e.type})),c.push(t)})),t((e=>[...e,...a]))}f(!1)}});return(0,u.jsxs)("div",{className:"container-sm mt-5",children:[(0,u.jsxs)("div",{...g(),className:"border rounded p-5 text-center upload-container ".concat(x?"shadow":""),children:[(0,u.jsx)("input",{...m()}),(0,u.jsx)(r.u,{icon:o.y_k,size:"3x",className:"text-primary mb-3"}),(0,u.jsx)("p",{className:"fs-4",children:"Drag and drop files here or click to browse."}),e.length>0&&(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"fs-6",children:[e.length," / ",100," files selected"]}),(0,u.jsx)("ul",{className:"list-group mt-3",children:e.map(((e,t)=>(0,u.jsxs)("li",{className:"list-group-item d-flex align-items-center",children:[(0,u.jsx)(r.u,{icon:(0,p.aC)(e.name),className:"me-2",style:{color:(0,p.a8)(e.name)}}),e.name]},t)))})]})]}),h&&(0,u.jsx)("div",{className:"progress mt-3",children:(0,u.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(a,"%")},"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100",children:[a,"%"]})}),h&&(0,u.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,u.jsx)(d.s$,{type:"ThreeDots",color:"#007bff",height:50,width:50})}),(0,u.jsxs)("button",{onClick:async()=>{if(e.length>0){f(!0);try{const a=new FormData;e.forEach((e=>{const t=encodeURIComponent(e.name);a.append("files",e,t)}));const s={onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);l(t)}};await n.c.uploadFiles(a,s),t([]),f(!1),l(0),i().fire({icon:"success",title:"Upload Successful",text:"All files have been uploaded successfully!"})}catch(a){console.error("Error uploading files:",a),f(!1),l(0)}}else i().fire({icon:"warning",title:"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e44\u0e1f\u0e25\u0e4c",text:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e44\u0e1f\u0e25\u0e4c\u0e01\u0e48\u0e2d\u0e19",confirmButtonColor:"#333"})},className:"btn btn-success btn-lg mt-3",disabled:h,children:[(0,u.jsx)(r.u,{icon:o.a_l,className:"me-2"})," Upload"]})]})},f=()=>(0,u.jsx)("div",{className:"container-sm mt-5",children:(0,u.jsx)(h,{})})}}]);
//# sourceMappingURL=376.1372e80b.chunk.js.map